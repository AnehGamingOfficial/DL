<!DOCTYPE html>
<html>
<head>
  <title>URL Downloader</title>
</head>
<body>
  <h1>URL Downloader</h1>

  <div>
    <label for="filename">File Name:</label>
    <span id="filename"></span>
  </div>

  <button onclick="downloadFile()">Download File</button>

  <script>
    window.onload = function() {
      var urlParams = new URLSearchParams(window.location.search);
      var url = urlParams.get('url');
      if (url) {
        var filename = getFileNameFromURL(url);
        document.getElementById("filename").textContent = filename;
      }
    };

    function downloadFile() {
      var urlParams = new URLSearchParams(window.location.search);
      var url = urlParams.get('url');
      if (url) {
        var link = document.createElement("a");
        link.href = url;
        link.download = getFileNameFromURL(url);
        link.style.display = "none";
        document.body.appendChild(link);
        link.click();
        document.body.removeChild(link);
      }
    }

    function getFileNameFromURL(url) {
      var path = url.split('/').pop();
      var filename = path.split('?')[0];
      return filename;
    }
  </script>
</body>
</html>
